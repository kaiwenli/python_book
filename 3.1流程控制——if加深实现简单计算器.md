# 使用if 完成一个计算器



我们在之前已经学习过[if...else](part1/if.md) 的使用了，并且在数据类型、类型转换里面大量用到了if...else。

现在为了加强对if...else的理解，基于if...else做一个 Python的整型加法计算器。在实现计算器之前，我们学习一个简单的函数：

>  接收一个字符串  = input( )

input( ) 在命令行里运行一个代码的时候，input函数可以依次接收在命令行中接收到的输入项。接收到任何类型的文字都是一个字符串类型的数据。

## 1. 先学习input()



### 1.1 代码演示

input 的主要功能我们在上面已经介绍过了：接入输入的值，以字符串返回。

我们看一下下面的一段代码，是不是这样的：

~~~python
#coding=utf-8

print('请输入第一个数，按回车结束')
#下面的input能得到输入的内容，赋值给变量first
first = input()

print('请输入"+"，按回车结束')
#我们这儿输出了第二个变量是运算符 + 号
fl = input()

print('请输入第二个数，按回车结束')
#第三个变量赋值给变量sec
sec = input()

#打印所有的值
print(first)
print(fl)
print(sec)

#打印所有的变量类型
print(type(first))
print(type(fl))
print(type(sec))
~~~



我们看一下运行结果：

~~~
请输入第一个数，按回车结束
3
请输入"+"，按回车结束
1
请输入第二个数，按回车结束
3
3
1
3
<class 'str'>
<class 'str'>
<class 'str'>
~~~

结论：input 可以获取到input 中输入的值。

### 1.2 运行代码的三种方式

#### 1.2.1 点击 PyCharm中的Run运行

![image-20210412155745087](../images/image-20210412155745087.png)



#### 1.2.2 在PyCharm终端运行

![image-20210412155910240](../images/image-20210412155910240.png)



#### 1.2.3 在命令行中执行

如何进入命令行，请参考：[环境搭建](windows.md) 

在命令行，进入到文件目录，执行：`python one.py`即可。

![image-20210412160131972](../images/image-20210412160131972.png)



## 2. 实现一个简单的整型加法计算器



上面的代码在演示的时候会出现严重的问题。

> 1. 有没有输入“ + ”不知道
> 2. 数值如果输入的是字符串，无法参与计算也会报错

因此，我们这个时候可以借助 if ...else 帮助我们解决问题。先回顾一下if ...else的语法结构图：



![2015-08-08/55c58ab5e5076](../images/2021-08-08_55c58ab5e5076.png)



基本实现逻辑：

> input 输入的内容必须转为整型再加与运算。
>
> 第二个数，如果不是字符串的 “ + ”，报错。
>
> 

我们写一段代码实现一下逻辑：

~~~python
#coding=utf-8

print('请输入第一个数，按回车结束')
#下面的input能得到输入的内容，赋值给变量first
first = int(input())


print('请输入"+"，按回车结束')
fl = input()


if fl != '+':
    print('您输入的不是 + 号')
    exit()

print('请输入第二个数，按回车结束')
sec = int(input())


result = first + sec

print("结果为", result)
~~~



if的运用说明：

if  fl != "+"，  如果 fl 变量不等于加号的话，程序打印不是加号，并且退出运行。



****

注意：

exit( )   ：退出当前代码的运行。【重点】







