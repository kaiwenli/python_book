# 集合(set)



## 1. 集合的声明

集合英文 叫作：set，这种数据类型与字典非常接近。Python中也是用 花括号{ } 括起来声明（创建）。

语法格式规定如下：

> 变量名  =  { 集合值1, 集合值2, 集合值n }

注意，还有一些关于集合的规定：

1. 集合里面的值不能重复，具有唯一性；
2. 集合里只能插入标准数据类型（也叫静态数据）。

~~~python
my_set = {'美国', '中国', '噢大梨呀', '噫,大梨', '噢大梨呀'}

print(my_set)
print(type(my_set))
~~~

我们看一下运行结果：

~~~
{'噫,大梨', '美国', '噢大梨呀', '中国'}
<class 'set'>
~~~

**为什么 噢大梨呀  只出现了一次呢？  **

答：因为集合里的值是唯一的。





## 2. 集合的查找

集合一般不会直接输出，而是判断某个东西是不是在集合里面，语法格式如下：

> 某个值  in  集合名    			 #判断某个值是否在集合中，存在返回True，不存在返回False
>
> 某个值 not  in  集合名		  #判断某个值是否不在集合中，不存在返回True，存在返回False


我们上一段代码试试：

~~~python
my_set = {'美国', '中国', '噢大梨呀', '噫,大梨'}


if '美国' in my_set:
    print('美国存在集合中')
else:
    print('美国不在集合中')
~~~

看一下运行结果：

~~~
美国存在集合中
~~~

解释：如果一个集合中存在某个值， 就能返回True， 执行真代码区别。



我们换成not in 再试一次。

~~~python
girl_set = {'奶茶妹妹', '李子柒', '罗永浩', '薇娅'}

if '李佳奇' not in girl_set:
    print('他果真不在里面')
else:
    print('他在里面')
~~~

我们看一下运行结果：

~~~
他果真不在里面
~~~

解释：不在里面返回真（True），在里面返回假（False）。 所以，执行了True（真）区间。





## 3. 集合的添加

有的时候，我们希望向集合(set)中追加一些值，可以使用下面的语法：

> 集合变量名.add(  写上新的值  )
>
> 集合变量名.update( 写上新的值 )

这个比较简单，我们直接上代码，看看效果：

~~~python
girl_set = {'奶茶妹妹', '李子柒', '罗永浩', '薇娅'}

girl_set.add('李佳奇')

print(girl_set)
~~~

看看运行结果：

~~~
{'罗永浩', '薇娅', '李佳奇', '李子柒', '奶茶妹妹'}
~~~

李佳奇  已经被追加进去了。



我们再看一下update与add有何不同？

~~~python
girl_set = {'奶茶妹妹', '李子柒', '罗永浩', '薇娅'}

girl_set.update('李佳奇')

print(girl_set)
~~~



看看运行结果：

~~~
{'罗永浩', '李子柒', '薇娅', '李', '佳', '奇', '奶茶妹妹'}
~~~

结论：Update( ) 将每个元素一个一个分别插入进去了。

而add( ) 是整体插入。



## 4. 集合的删除

集合的删除有三种对应的办法：

> 集合.clear( )   清空整个集合
>
> 集合.pop( )    取出集合中的第一个值
>
> 集合.remove( 名字 )   删除指定的集合内的值 

我们分别用三段代码看一下运行结果。

### 4.1 clear()

它可以删除所有集合中的元素。

~~~python
girl_set = {'奶茶妹妹', '李子柒', '罗永浩', '薇娅'}


print(girl_set)

girl_set.clear()

print(girl_set)
~~~

看一下运行结果：

~~~
{'罗永浩', '薇娅', '奶茶妹妹', '李子柒'}
set()
~~~

结论：

第一次运行打印出了对应的所有的集合中的值。

Clear() 清空后，第二次显示了一set( )。说明，集合中的值全部空了。



### 4.2 remove() 删除指定元素

使用remove(指定值)，传入谁删除谁。

~~~python
girl_set = {'奶茶妹妹', '李子柒', '罗永浩', '薇娅', '李佳奇'}


print(girl_set)

girl_set.remove('李子柒')

print(girl_set)
~~~

看一下运行结果：

~~~
{'李佳奇', '薇娅', '李子柒', '奶茶妹妹', '罗永浩'}
{'李佳奇', '薇娅', '奶茶妹妹', '罗永浩'}
~~~

结论：

第一次显示了所有的内容；

第二次显示的结果：李子柒 已经不在集合中了。



### 4.3 pop( ) 取出集合中的第一个值

pop的主要作用是取出集合中的第一个值，字面意思浅显易懂。我们写一段代码：

~~~python
girl_set = {'奶茶妹妹', '李子柒', '罗永浩', '薇娅', '李佳奇'}


print(girl_set)

print(girl_set.pop())
print(girl_set.pop())

print(girl_set)
~~~



我们看一下运行结果：

~~~
{'薇娅', '罗永浩', '奶茶妹妹', '李子柒', '李佳奇'}
薇娅
罗永浩
{'奶茶妹妹', '李子柒', '李佳奇'}
~~~

结论：

第一次打印  将所有集合中的值全展示出来了。

第二次打印，弹出了第一个值：微娅

第三次打印，弹出了第二个值：罗永浩

第四次打印，将集合中还存在的值展示了一次。





## 5. 集合的运算



我们在学小学数学的时候学过三种集合的状态：

1. 交集；
2. 差集；
3. 并集。



![img](./images/885885-20171221142116756-2119452855.png)

配合图快速作一下解释：

> 下面有x，y 两个集合。
>
> 并集：将x,y 进行合并，形成1，2，3，4，5，6的一个新集合。
>
> 交集：取出相交部份的3和4。
>
> 差集：取出不相同的部份1，2，5，6



### 5.1 并集

使用“  | ” 进行并集。

~~~python
girl_set = {'奶茶妹妹', '李子柒', '罗永浩', '薇娅', '李佳奇'}

boy_set = {'李宇春', '李佳奇', '罗永浩'}


new_set = girl_set | boy_set

print(new_set)
~~~

看看运行结果：

~~~
{'李子柒', '罗永浩', '薇娅', '李宇春', '李佳奇', '奶茶妹妹'}
~~~

结论：两个集合合并成了一个新的集合，去除了重复的值。



### 5.2 交集

我们在Python里使用“ & ” 进行交集计算，计算出两个集合里面相同的值。

```python
girl_set = {'奶茶妹妹', '李子柒', '罗永浩', '薇娅', '李佳奇'}

boy_set = {'李宇春', '李佳奇', '罗永浩'}


new_set = girl_set & boy_set

print(new_set)
```



看一下运行结果：

~~~
{'罗永浩', '李佳奇'}
~~~

结论：

集合girl_set 和 boy_set 里面相交部份是：罗永浩 和 李佳奇。





### 5.3 对称差集

使用“ ^ ” （键盘上的数字6 对应的特殊字符） 进行对称差集计算，返回两个集合中不重复的元素。

~~~python
girl_set = {'奶茶妹妹', '李子柒', '罗永浩', '薇娅', '李佳奇'}

boy_set = {'李宇春', '李佳奇', '罗永浩'}


new_set = girl_set ^ boy_set

print(new_set)

~~~



看一下运行结果：

~~~
{'薇娅', '李子柒', '奶茶妹妹', '李宇春'}
~~~

结论：

将两个集合中不相同的部份取出来了。



## 5.4 差集

差集计算是使用 “ - ”（减号）。相当于是以一个集合A，减去另外一个集合B，得到A与B对比后，A的不同部份。

为了更好理解，我们把代码改一下，改成具体的数值。

~~~python
A = { 1, 3, 5}
B = {1, 2, 3}

print( A - B)
~~~

运行结果：

~~~
{5}

~~~

结论：

A 的1，3，5  减去B 的1和3，得到A的差集计算结果：5。



****

扩展小知识：

为什么集合里面的显示顺序不是以我们写入顺序进行排序的呢？

答：集合和字典的存储结构是hash表，是通过索引查找数据，所以存储的位置很随机，而读取是顺序读取的，因此写入和读取得顺序不同。他俩的区别是set不存储value，只存储key。





